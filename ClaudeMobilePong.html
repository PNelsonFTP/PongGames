<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Claude Mobile Pong</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
        background: #000;
        touch-action: none;
    }
    #gameCanvas {
        display: block;
        background: #000;
    }
    #score {
        position: absolute;
        top: 10px;
        left: 0;
        right: 0;
        text-align: center;
        color: #fff;
        font-family: sans-serif;
        font-size: 24px;
        user-select: none;
    }
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>
<div id="score">0 : 0</div>
<script>
let canvas = document.getElementById('gameCanvas');
let ctx = canvas.getContext('2d');
let scoreElem = document.getElementById('score');

let width, height, paddleWidth, paddleHeight;
let paddle1, paddle2, ball;
let score1 = 0, score2 = 0;

function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;

    paddleWidth = Math.max(10, width * 0.02);
    paddleHeight = height * 0.2;
    paddle1 = { x: 10, y: (height - paddleHeight) / 2 };
    paddle2 = { x: width - paddleWidth - 10, y: (height - paddleHeight) / 2 };
    ball = { x: width / 2, y: height / 2, vx: width * 0.003 * (Math.random() > 0.5 ? 1 : -1), vy: height * 0.003 * (Math.random() * 2 - 1), r: width * 0.015 };
}
window.addEventListener('resize', resize);
window.addEventListener('orientationchange', resize);
resize();

function resetBall() {
    ball.x = width / 2;
    ball.y = height / 2;
    ball.vx = width * 0.003 * (Math.random() > 0.5 ? 1 : -1);
    ball.vy = height * 0.003 * (Math.random() * 2 - 1);
}

function clamp(value, min, max) {
    return Math.min(Math.max(value, min), max);
}

function handleTouch(evt) {
    evt.preventDefault();
    for (let t of evt.touches) {
        if (t.clientX < width / 2) {
            paddle1.y = clamp(t.clientY - paddleHeight / 2, 0, height - paddleHeight);
        } else {
            paddle2.y = clamp(t.clientY - paddleHeight / 2, 0, height - paddleHeight);
        }
    }
}
canvas.addEventListener('touchstart', handleTouch);
canvas.addEventListener('touchmove', handleTouch);

function update() {
    ball.x += ball.vx;
    ball.y += ball.vy;

    if (ball.y - ball.r < 0 || ball.y + ball.r > height) {
        ball.vy *= -1;
    }

    if (ball.x - ball.r < paddle1.x + paddleWidth && ball.y > paddle1.y && ball.y < paddle1.y + paddleHeight) {
        ball.vx = Math.abs(ball.vx);
    }
    if (ball.x + ball.r > paddle2.x && ball.y > paddle2.y && ball.y < paddle2.y + paddleHeight) {
        ball.vx = -Math.abs(ball.vx);
    }

    if (ball.x < 0) {
        score2++;
        scoreElem.textContent = `${score1} : ${score2}`;
        resetBall();
    }
    if (ball.x > width) {
        score1++;
        scoreElem.textContent = `${score1} : ${score2}`;
        resetBall();
    }
}

function draw() {
    ctx.clearRect(0, 0, width, height);

    ctx.strokeStyle = '#555';
    ctx.setLineDash([5, 15]);
    ctx.beginPath();
    ctx.moveTo(width / 2, 0);
    ctx.lineTo(width / 2, height);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#fff';
    ctx.fillRect(paddle1.x, paddle1.y, paddleWidth, paddleHeight);
    ctx.fillRect(paddle2.x, paddle2.y, paddleWidth, paddleHeight);

    ctx.beginPath();
    ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI * 2);
    ctx.fill();
}

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
